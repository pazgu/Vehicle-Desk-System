<div class="modal-content" dir="rtl">
  <div class="modal-header">
    <button type="button" class="close-modal-button" (click)="close()">
      ×
    </button>
    <h3>{{ data.title }}</h3>
  </div>

  <div class="delete-confirmation">
    <p>{{ data.message }}</p>

    <p *ngIf="data.noRestoreText" class="warning-text">
      {{ data.noRestoreText }}
    </p>

    <!-- ✅ BLOCK MODE FIELDS -->
    <form *ngIf="mode === 'block'" [formGroup]="blockForm" class="block-form">
      <div class="form-group">
        <label class="form-label" for="durationInput">{{
          data.durationLabel || "משך חסימה (ימים):"
        }}</label>
        <input
          id="durationInput"
          type="number"
          class="form-control"
          formControlName="duration"
          min="1"
        />

        <div *ngIf="durationCtrl?.touched && durationCtrl?.invalid" class="text-danger">
          חובה להזין מספר ימים חיובי.
        </div>
      </div>

      <div class="form-group">
        <label class="form-label" for="reasonInput">{{
          data.reasonLabel || "סיבת החסימה:"
        }}</label>
        <textarea
          id="reasonInput"
          class="form-control textarea"
          formControlName="reason"
          rows="4"
          [placeholder]="
            data.reasonPlaceholder || 'הזן את הסיבה לחסימת משתמש זה (חובה)'
          "
        ></textarea>

        <div *ngIf="reasonCtrl?.touched && reasonCtrl?.invalid" class="text-danger">
          <span *ngIf="reasonCtrl?.errors?.['required']">חובה למלא את סיבת החסימה.</span>
          <span *ngIf="reasonCtrl?.errors?.['minlength']">הסיבה חייבת להכיל לפחות 5 תווים.</span>
          <span *ngIf="reasonCtrl?.errors?.['whitespace']">הסיבה אינה יכולה להכיל רק רווחים.</span>
        </div>
      </div>
    </form>
  </div>

  <div class="modal-actions" mat-dialog-actions>
    <button
      type="button"
      [class]="data.isDestructive ? 'delete-confirm-button' : 'primary-button'"
      (click)="confirm()"
      cdkFocusInitial
    >
      {{ data.confirmText }}
    </button>

    <button type="button" (click)="close()">
      {{ data.cancelText }}
    </button>
  </div>
</div>
