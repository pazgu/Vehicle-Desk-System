<div class="page-container">
  <div class="user-data-container">
    <div class="content">
      <!-- ×›×¤×ª×•×¨ ×—×–×¨×” -->
<a class="edit-button" routerLink="/user-data-edit/{{user?.employee_id}}">
  âœï¸ ×¢×¨×™×›×ª ××©×ª××©
</a>
<!-- <a class="delete-button" (click)="deleteUser(user?.employee_id)">
  ××—×™×§×ª ××©×ª××© ğŸ—‘ï¸
</a> -->

      <a routerLink="/user-data" class="back-button"> ×—×–×¨×” ×œ×¨×©×™××” â† </a>

      <!-- ×›×•×ª×¨×ª -->
      <div class="header">
        <h2 class="header-title">×¤×¨×˜×™ ××©×ª××©</h2>
      </div>

      <div class="user-details">
        <div class="detail-row">
          <span class="label">×©× ×¤×¨×˜×™:</span>
          <span class="value">{{ user?.first_name }}</span>
        </div>
        <div class="detail-row">
          <span class="label">×©× ××©×¤×—×”:</span>
          <span class="value">{{ user?.last_name }}</span>
        </div>
        <div class="detail-row">
          <span class="label">×©× ××©×ª××©:</span>
          <span class="value">{{ user?.username }}</span>
        </div>
        <div class="detail-row">
          <span class="label">×ª×¤×§×™×“:</span>
          <span class="value">{{ user?.role }}</span>
        </div>
        <div class="detail-row">
          <span class="label">××—×œ×§×”:</span>
          <span class="value">{{ departmentNames[user?.department_id || ''] || user?.department_id }}
</span>
        </div>
        <div class="detail-row">
          <span class="label">×“×•×"×œ:</span>
          <span class="value">{{ user?.email }}</span>
        </div>

        <!-- ×”×¦×’×ª ×§×•×‘×¥ ×¨×™×©×™×•×Ÿ -->
        <div class="detail-row" *ngIf="user?.license_file_url">
          <span class="label">×§×•×‘×¥ ×¨×™×©×™×•×Ÿ:</span>
          <span class="value">
            <ng-container *ngIf="isImage(getFullLicenseUrl()); else pdfBlock">
              <button (click)="openFullImage()" class="view-button">×”×¦×’ ×ª××•× ×”</button>
            </ng-container>
            <ng-template #pdfBlock>
              <a [href]="getFullLicenseUrl()" target="_blank" rel="noopener">ğŸ“„ ×¦×¤×™×™×” ×‘×§×•×‘×¥ PDF</a>
            </ng-template>
          </span>
        </div>

        <!-- âœ… Modal ×©×œ ×ª××•× ×” -->
        <div *ngIf="showFullImage" class="image-modal" (click)="closeFullImage()">
          <img [src]="getFullLicenseUrl()" class="full-image" alt="License Image" />
          <span class="close-modal">âœ–</span>
        </div>


      </div>
    </div>
  </div>
</div>

<router-outlet></router-outlet>
