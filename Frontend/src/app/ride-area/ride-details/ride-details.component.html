<div class="all-ride-details">

<div class="ride-card">
  <button class="back-btn" (click)="goBack()">×—×–×•×¨ ×œ×¨×©×™××” â†</button>
  <h2 class="heading">×¤×¨×˜×™ ×”× ×¡×™×¢×”</h2>
  <button *ngIf="canStartRide()" class="start-ride-btn" (click)="startRide()">
    ğŸš— ×”×ª×—×œ × ×¡×™×¢×”
  </button>

  <div class="detail-row">
    <span class="detail-label">×ª××¨×™×š:</span>
    <span class="detail-value">{{ ride?.start_datetime | date: 'dd/MM/yyyy' }}</span>
  </div>

  <div *ngIf="isRideLongerThanOneDay()" class="detail-row">
    <span class="detail-label">×ª××¨×™×š ×¡×™×•×:</span>
    <span class="detail-value">{{ ride?.end_datetime | date: 'dd/MM/yyyy' }}</span>
  </div>

  <div class="detail-row">
    <span class="detail-label">×©×¢×ª ×”×ª×—×œ×”:</span>
    <span class="detail-value">{{ ride?.start_datetime | date: 'HH:mm' }}</span>
  </div>

  <div class="detail-row">
    <span class="detail-label">×©×¢×ª ×¡×™×•×:</span>
    <span class="detail-value">{{ ride?.end_datetime | date: 'HH:mm' }}</span>
  </div>

  <div class="detail-row">
    <span class="detail-label">×¡×•×’ × ×¡×™×¢×”:</span>
    <span class="detail-value">{{ ride?.ride_type === 'operational' ? '××‘×¦×¢×™×ª' : '×× ×”×œ×ª×™×ª' }}</span>
  </div>

  <div class="detail-row">
    <span class="detail-label">××¨×—×§ ××•×¢×¨×š:</span>
    <span class="detail-value">{{ ride?.estimated_distance }} ×§×´×</span>
  </div>

    <div class="detail-row">
    <span class="detail-label">× ×§×•×“×ª ×”×ª×—×œ×”:</span>
    <span class="detail-value">{{ getCityName(ride?.start_location) }}</span>
  </div>


  <div class="detail-row">
    <span class="detail-label">×ª×—× ×”:</span>
    <span class="detail-value">{{ getCityName(ride?.stop) }}</span>
  </div>

  <div *ngIf="ride?.extra_stops && ride.extra_stops.length > 0" class="detail-row">
    <span class="detail-label">×¢×¦×™×¨×•×ª × ×•×¡×¤×•×ª:</span>
    <span class="detail-value">
      <ng-container *ngFor="let stopId of ride.extra_stops; let last = last">
        {{ getCityName(stopId) }}
        <span *ngIf="!last"> â† </span>
      </ng-container>
    </span>
  </div>

    <div class="detail-row">
    <span class="detail-label">× ×§×•×“×ª ×¡×™×•×:</span>
    <span class="detail-value">{{ getCityName(ride?.destination) }}</span>
  </div>


  <div class="detail-row">
    <span class="detail-label">×¡×•×’ ×“×œ×§:</span>
    <span class="detail-value">{{ getHebrewFuelType(ride?.vehicle) }}</span>
  </div>




    <div class="detail-row">
  <span class="detail-label">×¨×›×‘ ×©× ×‘×—×¨:</span>
  <span class="detail-value">
    <ng-container *ngIf="ride?.vehicle_model; else fallbackVehicle">
      {{ ride?.vehicle_model }}
    </ng-container>

    <ng-template #fallbackVehicle>
      {{ ride?.vehicle || '×œ× ×–××™×Ÿ' }}
    </ng-template>
  </span>
</div>





  <div class="detail-row">
    <span class="detail-label">×¡×˜×˜×•×¡:</span>
    <span class="detail-value" [ngClass]="{
    'rejected-row': ride?.status === 'rejected',
    'in-progress-row': ride?.status === 'in_progress'
  }">
      {{ ride?.status === 'pending' ? '×××ª×™×Ÿ' :
      ride?.status === 'approved' ? '×××•×©×¨':
      ride?.status === 'completed' ? '×”×•×©×œ×' :
      ride?.status === 'in_progress' ? '×‘×ª×”×œ×™×š' :
      ride?.status === 'rejected' ? '× ×“×—×”' :
      ride?.status === 'cancelled_due_to_no_show' ? '×‘×•×˜×œ×”-× ×¡×™×¢×” ×œ× ×™×¦××”' : '' }}
    </span>
  </div>
</div>

</div>