<div class="search-container" style="margin: 16px; width: 400px;position: relative;">
  <input
    type="text"
    placeholder="חפש לפי לוחית רישוי"
    [(ngModel)]="searchTerm"
    class="search-input"
  />
</div>
<div style="text-align: left; margin-right: 16px;margin-top: 10px; position: absolute; ">
  <button (click)="scrollToBottom()" style="background: none; border: none; cursor: pointer;">
    <img src="/assets/images/arrows.png" style="width: 1 rem ;height: 2rem;;"/>
  </button>
</div>
<table class="vehicle-issues-table">
  <thead>
    <tr>
      <th>רכב</th>
      <th>מלוכלך</th>
      <th>לא מתודלק</th>
      <th>נשכחו חפצים</th>
      <th>אירוע חריג</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let issue of filteredIssues">
      <td>{{ issue.plate }}</td>
      <td><input type="checkbox" [(ngModel)]="issue.dirty" /></td>
      <td>
        <!-- fuel_checked=false means "not fueled", so toggle on change -->
        <input type="checkbox" [(ngModel)]="issue.fuel_checked"
               (change)="issue.fuel_checked = !issue.fuel_checked" />
      </td>
      <td><input type="checkbox" [(ngModel)]="issue.items_left" /></td>
      <td>
        <input type="checkbox" [(ngModel)]="issue.critical_issue" />
        <div *ngIf="issue.critical_issue" class="critical-description" style="margin-top:8px;">
          <textarea
            [(ngModel)]="issue.issues_found"
            rows="3"
            placeholder="הכנס תיאור כאן"
            required
          ></textarea>
        </div>
      </td>

    </tr>
  </tbody>
</table>

<button (click)="submitIssues()" class="cute-red-button">שלח בדיקות</button>
<div *ngIf="submitting">שולח...</div>
<div #bottom></div>


